<div class="panel unbroken">
    <div>
        <h2 ng-hide="editing">{{spell.Name}} 
        <button ng-show="canEdit" class="btn" ng-click="editing = true"><span class="glyphicon glyphicon-pencil"></span> Edit</button></h2>
        <h2 ng-show="editing"><input type="text" ng-model="spell.Name" /> <button class="btn" ng-click="spellCtrl.saveData()"><span class="glyphicon glyphicon-save"></span> Save</button></h2>
    </div>

    <p>
        <div ng-hide="editing">
            <em ng-show="spell.Level === 0">{{spell.School}} cantrip</em>
            <em ng-show="spell.Level > 0">{{spell.Level | nth}}-level {{spell.School | lowercase}}</em>
            <em ng-show="spell.IsRitual">(ritual)</em>
        </div>
        <div ng-show="editing">
            <select ng-model="spell.Level">
                <option value="0">0 (cantrip)</option>
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
                <option>6</option>
                <option>7</option>
                <option>8</option>
                <option>9</option>
            </select> 
            <select ng-model="spell.School">
                <option>Abjuration</option>
                <option>Conjuration</option>
                <option>Divination</option>
                <option>Enchantment</option>
                <option>Evocation</option>
                <option>Illusion</option>
                <option>Necromancy</option>
                <option>Transmutation</option>
            </select>
            <input type="checkbox" ng-model="spell.IsRitual" /> Ritual
        </div>
    </p>
    
    <p>
        <div><strong>Casting Time:</strong> <span ng-hide="editing">{{spell.CastingTime}}</span><div ng-show="editing"><input ng-model="spell.CastingTime" /></div></div>
        <div><strong>Range:</strong> <span ng-hide="editing">{{spell.Range}}</span><div ng-show="editing"><input ng-model="spell.Range" /></div></div>
        <div>
            <strong>Components:</strong>
                <span ng-hide="editing">{{ComponentInfo}}</span>
                <span ng-show="editing">
                    <label class="checkbox-inline"><input type="checkbox" ng-model="spell.UsesComponentsVerbal" /> V</label>
                    <label class="checkbox-inline"><input type="checkbox" ng-model="spell.UsesComponentsSomatic" /> S</label>
                    <label class="checkbox-inline"><input type="checkbox" ng-model="spell.UsesComponentsMaterial" /> M</label> <input ng-show="spell.UsesComponentsMaterial" ng-model="spell.ComponentsMaterialDescription" />
                </span>
        </div>
        <div><strong>Duration:</strong> <span ng-hide="editing">{{spell.Duration}}</span><div ng-show="editing"><input ng-model="spell.Duration" /></div></div>
    </p>

    <blockquote>
        <p class="spellDescription" ng-repeat="paragraph in DescriptionAsParagraphs track by $index" ng-hide="editing">{{paragraph}}</p>
        <p ng-show="editing">
            <textarea class="form-control" rows="10" ng-model="spell.Description"></textarea>
        </p>
        <p ng-show="spell.AtHigherLevels">
            <strong>At Higher Levels.</strong> <span ng-hide="editing">{{spell.AtHigherLevels}}</span><div ng-show="editing"><strong>At Higher Levels: </strong><input class="form-control" ng-model="spell.AtHigherLevels" /></div></spell>
        </p>
    </blockquote>
</div>